(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{39:function(n,e,t){"use strict";t.r(e);var a,o,r,i,c,s,d,b,u=t(2),p=t.n(u),l=t(26),h=t.n(l),g=t(13),j=t.n(g),m=t(14),x=t(12),O=t(11),f=t(5),v=(t(25),t(23),t(24),t(15)),w=t(16),y=t(10),k=y.b.div(a||(a=Object(O.a)(["\n    background-color: #333333;\n\n    border: 1px solid;\n\n    width: 400px;\n    height: 700px;\n    margin: 1em auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    box-shadow: 0.25em 0.25em 20px black;\n\n    @media (max-width: 600px) {\n        width: 99vw; //Need to do something about address/scrollbar\n        height: 99vh;\n        margin: auto auto;\n        padding: 0;\n    }\n"]))),I=y.b.div(o||(o=Object(O.a)(["\n    background-color: #666666;\n    height: 2em;\n    line-height: 2em;\n    text-align: center;\n    font-weight: 900;\n    font-size: 24px;\n    border-bottom: solid 1px;\n    \n\n"]))),S=y.b.div(r||(r=Object(O.a)(["\n    max-width: 75%;\n    word-break: break-all;\n    margin-top: 0.125em;\n    margin-bottom: 0.125em;\n    padding: 0.50em 1em;\n    border-radius: 15px;\n"]))),E=Object(y.b)(S)(i||(i=Object(O.a)(["\n\n    background-color: #559955;\n    text-align: right;\n    margin-left: auto;\n\n"]))),A=Object(y.b)(S)(c||(c=Object(O.a)(["\n    background-color: #555599;\n    margin-right: auto;\n"]))),C=y.b.div(s||(s=Object(O.a)(["\n    overflow-y: scroll;\n    height: 100%;\n    display: flex;\n    flex-direction: column-reverse;\n    padding-left: 1em;\n    padding-right: 1em;\n    padding-bottom: 1em;\n    padding-top: 1em; //not working lol\n"]))),F=y.b.form(d||(d=Object(O.a)(["\n    background-color: #559955;  \n    display: flex;\n    width: 100%;\n    height: 3em;\n    justify-content: space-between;\n\n    >input {\n            width: 100%;\n        padding: 0em 0.5em;\n        font-size: 20px;\n        border: none;\n        background-color: transparent;\n        outline: none;\n    }\n    >Button {\n        font-weight: 900;\n        border: none;\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]))),G=t(1);f.a.apps.length?f.a.app():f.a.initializeApp({apiKey:"AIzaSyDxvOgQi_rEneoxRi9Iag75b-Oy-vLbCaI",authDomain:"chat-app-18404.firebaseapp.com",projectId:"chat-app-18404",storageBucket:"chat-app-18404.appspot.com",messagingSenderId:"1020225808869",appId:"1:1020225808869:web:fc9b3c705cde795d54e70c",measurementId:"G-7EXTG0ETER"});var R=f.a.auth(),z=f.a.firestore(),D=(f.a.analytics(),Object(y.a)(b||(b=Object(O.a)(["\n  body {\n    background-color: #191919;  \n    margin: 0;\n  }\n"])))),B=function(){return Object(G.jsxs)(G.Fragment,{children:["    ",Object(G.jsx)("button",{onClick:function(){var n=new f.a.auth.GoogleAuthProvider;R.signInWithPopup(n)},children:"Sign in with Google"}),Object(G.jsx)("button",{onClick:function(){var n=new f.a.auth.FacebookAuthProvider;R.signInWithPopup(n)},children:"Sign in with Facebook"}),Object(G.jsx)("button",{onClick:function(){f.a.auth().signInAnonymously()},children:"Sign in Anonymously"})]})},T=function(){var n=Object(u.useRef)(),e=z.collection("messages"),t=e.orderBy("createdAt","desc").limit(25),a=Object(w.a)(t,{idField:"id"}),o=Object(x.a)(a,1)[0],r=Object(u.useState)(""),i=Object(x.a)(r,2),c=i[0],s=i[1];console.log(o);var d=function(){var t=Object(m.a)(j.a.mark((function t(a){var o,r,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log("sendmessage!"),o=R.currentUser,r=o.uid,i=o.photoURL,t.next=5,e.add({text:c,createdAt:f.a.firestore.FieldValue.serverTimestamp(),uid:r,photoURL:i});case 5:s(""),n.current.scrollIntoView({behavior:"smooth"});case 7:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(C,{children:[Object(G.jsx)("span",{ref:n}),o&&o.map((function(n){return Object(G.jsx)(L,{message:n},n.id)}))]}),Object(G.jsx)("div",{children:Object(G.jsxs)(F,{onSubmit:d,children:[Object(G.jsx)("input",{placeholder:"write something here...",value:c,onChange:function(n){return s(n.target.value)}}),Object(G.jsx)("button",{type:"submit",disabled:!c,children:"SEND MESSAGE!"})]})}),Object(G.jsx)("div",{})]})},L=function(n){var e=n.message,t=e.text;return e.uid===R.currentUser.uid?Object(G.jsx)(E,{children:t}):Object(G.jsx)(A,{children:t})},P=function(){return Object(G.jsx)("button",{onClick:function(n){return R.signOut()},children:"Sign Out!!!"})},U=function(){var n=Object(v.a)(R),e=Object(x.a)(n,1)[0];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(D,{}),Object(G.jsxs)(k,{children:[Object(G.jsx)(I,{children:"<anonymous chatroom/>"}),e?Object(G.jsx)(T,{id:"chatbox"}):Object(G.jsx)(B,{}),e&&Object(G.jsx)(P,{})]})]})};f.a.apps.length?f.a.app():f.a.initializeApp({apiKey:"AIzaSyDxvOgQi_rEneoxRi9Iag75b-Oy-vLbCaI",authDomain:"chat-app-18404.firebaseapp.com",projectId:"chat-app-18404",storageBucket:"chat-app-18404.appspot.com",messagingSenderId:"1020225808869",appId:"1:1020225808869:web:fc9b3c705cde795d54e70c",measurementId:"G-7EXTG0ETER"});f.a.auth(),f.a.firestore(),f.a.analytics();h.a.render(Object(G.jsx)(p.a.StrictMode,{children:Object(G.jsx)(U,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.aad2634a.chunk.js.map