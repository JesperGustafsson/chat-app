(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var a,r,i,o,c,s,d,p,u=t(2),b=t.n(u),l=t(26),h=t.n(l),j=t(13),g=t.n(j),m=t(14),x=t(12),O=t(5),f=(t(25),t(23),t(24),t(15)),v=t(16),k=t(10),w=t(11),y=w.a.div(a||(a=Object(k.a)(["\n    background-color: #333333;\n\n    border: 1px solid;\n    width: 400px;\n    height: 600px;\n    margin: auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n"]))),I=w.a.div(r||(r=Object(k.a)(["\n    background-color: #666666;\n    height: 2em;\n    line-height: 2em;\n    text-align: center;\n    font-weight: 900;\n    font-size: 24px;\n    border-bottom: solid 1px;\n    \n\n"]))),S=w.a.div(i||(i=Object(k.a)(["\n    max-width: 75%;\n    word-break: break-all;\n    margin-top: 0.125em;\n    margin-bottom: 0.125em;\n    padding: 0.50em 1em;\n    border-radius: 15px;\n"]))),E=Object(w.a)(S)(o||(o=Object(k.a)(["\n\n    background-color: #559955;\n    text-align: right;\n    margin-left: auto;\n\n"]))),A=Object(w.a)(S)(c||(c=Object(k.a)(["\n    background-color: #555599;\n    margin-right: auto;\n"]))),C=(w.a.div(s||(s=Object(k.a)(["\n    \n    max-width: 400px;\n    word-break: break-all;\n    margin-top: 0.125em;\n    margin-bottom: 0.125em;\n    padding: 0.50em;\n    border-radius: 15px;\n\n"]))),w.a.div(d||(d=Object(k.a)(["\n    overflow-y: scroll;\n    height: 500px;\n    display: flex;\n    flex-direction: column-reverse;\n    padding: 0.5em 1em;\n    padding-bottom: 1em;\n"])))),F=w.a.form(p||(p=Object(k.a)(["\n    background-color: #559955;  \n    display: flex;\n    width: 100%;\n    height: 3em;\n\n    >input {\n        max-width: 100%;\n        padding: 0em 0.5em;\n        font-size: 20px;\n        border: none;\n        background-color: transparent;\n        outline: none;\n    }\n    >Button {\n        font-weight: 900;\n        border: none;\n        background-color: rgba(0, 0, 0, 0.2);\n    }\n"]))),G=t(1);O.a.apps.length?O.a.app():O.a.initializeApp({apiKey:"AIzaSyDxvOgQi_rEneoxRi9Iag75b-Oy-vLbCaI",authDomain:"chat-app-18404.firebaseapp.com",projectId:"chat-app-18404",storageBucket:"chat-app-18404.appspot.com",messagingSenderId:"1020225808869",appId:"1:1020225808869:web:fc9b3c705cde795d54e70c",measurementId:"G-7EXTG0ETER"});var R=O.a.auth(),z=O.a.firestore(),D=(O.a.analytics(),function(){return Object(G.jsxs)(G.Fragment,{children:["    ",Object(G.jsx)("button",{onClick:function(){var e=new O.a.auth.GoogleAuthProvider;R.signInWithPopup(e)},children:"Sign in with Google"}),Object(G.jsx)("button",{onClick:function(){var e=new O.a.auth.FacebookAuthProvider;R.signInWithPopup(e)},children:"Sign in with Facebook"}),Object(G.jsx)("button",{onClick:function(){O.a.auth().signInAnonymously()},children:"Sign in Anonymously"})]})}),B=function(){var e=Object(u.useRef)(),n=z.collection("messages"),t=n.orderBy("createdAt","desc").limit(25),a=Object(v.a)(t,{idField:"id"}),r=Object(x.a)(a,1)[0],i=Object(u.useState)(""),o=Object(x.a)(i,2),c=o[0],s=o[1];console.log(r);var d=function(){var t=Object(m.a)(g.a.mark((function t(a){var r,i,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log("sendmessage!"),r=R.currentUser,i=r.uid,o=r.photoURL,t.next=5,n.add({text:c,createdAt:O.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:o});case 5:s(""),e.current.scrollIntoView({behavior:"smooth"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(C,{children:[Object(G.jsx)("span",{ref:e}),r&&r.map((function(e){return Object(G.jsx)(T,{message:e},e.id)}))]}),Object(G.jsx)("div",{children:Object(G.jsxs)(F,{onSubmit:d,children:[Object(G.jsx)("input",{placeholder:"write something here...",value:c,onChange:function(e){return s(e.target.value)}}),Object(G.jsx)("button",{type:"submit",disabled:!c,children:"SEND MESSAGE!"})]})}),Object(G.jsx)("div",{})]})},T=function(e){var n=e.message,t=n.text;return n.uid===R.currentUser.uid?Object(G.jsx)(E,{children:t}):Object(G.jsx)(A,{children:t})},L=function(){return Object(G.jsx)("button",{onClick:function(e){return R.signOut()},children:"Sign Out!!!"})},P=function(){var e=Object(f.a)(R),n=Object(x.a)(e,1)[0];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(y,{children:[Object(G.jsx)(I,{children:"<anonymous chatroom/>"}),n?Object(G.jsx)(B,{id:"chatbox"}):Object(G.jsx)(D,{})]}),n&&Object(G.jsx)(L,{})]})};O.a.apps.length?O.a.app():O.a.initializeApp({apiKey:"AIzaSyDxvOgQi_rEneoxRi9Iag75b-Oy-vLbCaI",authDomain:"chat-app-18404.firebaseapp.com",projectId:"chat-app-18404",storageBucket:"chat-app-18404.appspot.com",messagingSenderId:"1020225808869",appId:"1:1020225808869:web:fc9b3c705cde795d54e70c",measurementId:"G-7EXTG0ETER"});O.a.auth(),O.a.firestore(),O.a.analytics();h.a.render(Object(G.jsx)(b.a.StrictMode,{children:Object(G.jsx)(P,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.26d1f4b9.chunk.js.map