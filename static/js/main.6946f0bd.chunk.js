(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var a,r,c,i,o,s,d,u,p=t(2),b=t.n(p),j=t(26),l=t.n(j),h=t(13),m=t.n(h),g=t(14),O=t(12),x=t(5),f=(t(25),t(23),t(24),t(15)),v=t(16),k=t(10),y=t(11),I=y.a.div(a||(a=Object(k.a)(["\n    background-color: #333333;\n\n    border: solid;\n    border-radius: 2px;\n    width: 400px;\n    height: 600px;\n    margin: auto;\n\n"]))),w=y.a.div(r||(r=Object(k.a)(["\n    background-color: #666666\n"]))),S=y.a.div(c||(c=Object(k.a)(["\n    max-width: 75%;\n    word-break: break-all;\n    margin-top: 0.125em;\n    margin-bottom: 0.125em;\n    padding: 0.50em 1em;\n    border-radius: 15px;\n"]))),E=Object(y.a)(S)(i||(i=Object(k.a)(["\n\n    background-color: #559955;\n    text-align: right;\n    margin-left: auto;\n\n"]))),A=Object(y.a)(S)(o||(o=Object(k.a)(["\n    background-color: #555599;\n    margin-right: auto;\n"]))),C=(y.a.div(s||(s=Object(k.a)(["\n    \n    max-width: 400px;\n    word-break: break-all;\n    margin-top: 0.125em;\n    margin-bottom: 0.125em;\n    padding: 0.50em;\n    border-radius: 15px;\n\n"]))),y.a.div(d||(d=Object(k.a)(["\n    overflow-y: scroll;\n    height: 500px;\n    display: flex;\n    flex-direction: column-reverse;\n    padding: 0.5em 1em;\n"])))),F=y.a.form(u||(u=Object(k.a)(["\n    width: 100%;\n"]))),G=t(1);x.a.apps.length?x.a.app():x.a.initializeApp({apiKey:"AIzaSyDxvOgQi_rEneoxRi9Iag75b-Oy-vLbCaI",authDomain:"chat-app-18404.firebaseapp.com",projectId:"chat-app-18404",storageBucket:"chat-app-18404.appspot.com",messagingSenderId:"1020225808869",appId:"1:1020225808869:web:fc9b3c705cde795d54e70c",measurementId:"G-7EXTG0ETER"});var R=x.a.auth(),D=x.a.firestore(),T=(x.a.analytics(),function(){return Object(G.jsxs)(G.Fragment,{children:["    ",Object(G.jsx)("button",{onClick:function(){var e=new x.a.auth.GoogleAuthProvider;R.signInWithPopup(e)},children:"Sign in with Google"}),Object(G.jsx)("button",{onClick:function(){var e=new x.a.auth.FacebookAuthProvider;R.signInWithPopup(e)},children:"Sign in with Facebook"}),Object(G.jsx)("button",{onClick:function(){x.a.auth().signInAnonymously()},children:"Sign in Anonymously"})]})}),z=function(){var e=Object(p.useRef)(),n=D.collection("messages"),t=n.orderBy("createdAt","desc").limit(25),a=Object(v.a)(t,{idField:"id"}),r=Object(O.a)(a,1)[0],c=Object(p.useState)(""),i=Object(O.a)(c,2),o=i[0],s=i[1];console.log(r);var d=function(){var t=Object(g.a)(m.a.mark((function t(a){var r,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log("sendmessage!"),r=R.currentUser,c=r.uid,i=r.photoURL,t.next=5,n.add({text:o,createdAt:x.a.firestore.FieldValue.serverTimestamp(),uid:c,photoURL:i});case 5:s(""),e.current.scrollIntoView({behavior:"smooth"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(C,{children:[Object(G.jsx)("span",{ref:e}),r&&r.map((function(e){return Object(G.jsx)(B,{message:e},e.id)}))]}),Object(G.jsx)("div",{children:Object(G.jsxs)(F,{onSubmit:d,children:[Object(G.jsx)("input",{value:o,onChange:function(e){return s(e.target.value)}}),Object(G.jsx)("button",{type:"submit",disabled:!o,children:"SEND MESSAGE!"})]})}),Object(G.jsx)("div",{children:Object(G.jsx)(L,{})})]})},B=function(e){var n=e.message,t=n.text;return n.uid===R.currentUser.uid?Object(G.jsx)(E,{children:t}):Object(G.jsx)(A,{children:t})},L=function(){return Object(G.jsx)("button",{onClick:function(e){return R.signOut()},children:"Sign Out!!!"})},P=function(){var e=Object(f.a)(R),n=Object(O.a)(e,1)[0];return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(I,{children:[Object(G.jsx)(w,{children:"This is an anonymous chatroom!"}),n?Object(G.jsx)(z,{id:"chatbox"}):Object(G.jsx)(T,{})]})})};x.a.apps.length?x.a.app():x.a.initializeApp({apiKey:"AIzaSyDxvOgQi_rEneoxRi9Iag75b-Oy-vLbCaI",authDomain:"chat-app-18404.firebaseapp.com",projectId:"chat-app-18404",storageBucket:"chat-app-18404.appspot.com",messagingSenderId:"1020225808869",appId:"1:1020225808869:web:fc9b3c705cde795d54e70c",measurementId:"G-7EXTG0ETER"});x.a.auth(),x.a.firestore(),x.a.analytics();l.a.render(Object(G.jsx)(b.a.StrictMode,{children:Object(G.jsx)(P,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.6946f0bd.chunk.js.map