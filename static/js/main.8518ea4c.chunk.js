(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var a,r,c,i,o,s,d=t(2),p=t.n(d),u=t(26),b=t.n(u),l=t(13),j=t.n(l),h=t(14),m=t(10),g=t(5),x=(t(25),t(23),t(24),t(15)),O=t(16),f=t(11),v=t(12),k=v.a.div(a||(a=Object(f.a)(["\n    background-color: #333333;\n\n    border: solid;\n    border-radius: 2px;\n    width: 400px;\n    height: 600px;\n    margin: auto;\n\n"]))),y=v.a.div(r||(r=Object(f.a)(["\n    background-color: #666666\n"]))),I=v.a.div(c||(c=Object(f.a)(["\n    background-color: #559955;\n    max-width: 400px;\n    word-break: break-all;\n    margin-top: 0.125em;\n    margin-bottom: 0.125em;\n    padding: 0.50em 1em;\n    border-radius: 15px;\n    margin-left: 25%;\n"]))),w=v.a.div(i||(i=Object(f.a)(["\n    background-color: #555599;\n    max-width: 400px;\n    word-break: break-all;\n    margin-top: 0.125em;\n    margin-bottom: 0.125em;\n    padding: 0.50em;\n    border-radius: 15px;\n    margin-right: 25%;\n\n"]))),S=v.a.div(o||(o=Object(f.a)(["\n    overflow-y: scroll;\n    height: 500px;\n    display: flex;\n    flex-direction: column-reverse;\n    padding: 0.5em 1em;\n"]))),E=v.a.form(s||(s=Object(f.a)(["\n    width: 100%;\n"]))),A=t(1);g.a.apps.length?g.a.app():g.a.initializeApp({apiKey:"AIzaSyDxvOgQi_rEneoxRi9Iag75b-Oy-vLbCaI",authDomain:"chat-app-18404.firebaseapp.com",projectId:"chat-app-18404",storageBucket:"chat-app-18404.appspot.com",messagingSenderId:"1020225808869",appId:"1:1020225808869:web:fc9b3c705cde795d54e70c",measurementId:"G-7EXTG0ETER"});var C=g.a.auth(),F=g.a.firestore(),G=(g.a.analytics(),function(){return Object(A.jsxs)(A.Fragment,{children:["    ",Object(A.jsx)("button",{onClick:function(){var e=new g.a.auth.GoogleAuthProvider;C.signInWithPopup(e)},children:"Sign in with Google"}),Object(A.jsx)("button",{onClick:function(){var e=new g.a.auth.FacebookAuthProvider;C.signInWithPopup(e)},children:"Sign in with Facebook"}),Object(A.jsx)("button",{onClick:function(){g.a.auth().signInAnonymously()},children:"Sign in Anonymously"})]})}),R=function(){var e=Object(d.useRef)();console.log("ref",e);var n=F.collection("messages"),t=n.orderBy("createdAt","desc").limit(25),a=Object(O.a)(t,{idField:"id"}),r=Object(m.a)(a,1)[0],c=Object(d.useState)(""),i=Object(m.a)(c,2),o=i[0],s=i[1];console.log(r);var p=function(){var t=Object(h.a)(j.a.mark((function t(a){var r,c,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log("sendmessage!"),r=C.currentUser,c=r.uid,i=r.photoURL,t.next=5,n.add({text:o,createdAt:g.a.firestore.FieldValue.serverTimestamp(),uid:c,photoURL:i});case 5:s(""),e.current.scrollIntoView({behavior:"smooth"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(S,{children:[Object(A.jsx)("span",{ref:e}),r&&r.map((function(e){return Object(A.jsx)(D,{message:e},e.id)}))]}),Object(A.jsx)("div",{children:Object(A.jsxs)(E,{onSubmit:p,children:[Object(A.jsx)("input",{value:o,onChange:function(e){return s(e.target.value)}}),Object(A.jsx)("button",{type:"submit",disabled:!o,children:"SEND MESSAGE!"})]})}),Object(A.jsx)("div",{children:Object(A.jsx)(T,{})})]})},D=function(e){var n=e.message,t=n.text;return n.uid===C.currentUser.uid?Object(A.jsx)(I,{children:t}):Object(A.jsx)(w,{children:t})},T=function(){return Object(A.jsx)("button",{onClick:function(e){return C.signOut()},children:"Sign Out!!!"})},z=function(){var e=Object(x.a)(C),n=Object(m.a)(e,1)[0];return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(k,{children:[Object(A.jsx)(y,{children:"This is an anonymous chatroom!"}),n?Object(A.jsx)(R,{id:"chatbox"}):Object(A.jsx)(G,{})]})})};g.a.apps.length?g.a.app():g.a.initializeApp({apiKey:"AIzaSyDxvOgQi_rEneoxRi9Iag75b-Oy-vLbCaI",authDomain:"chat-app-18404.firebaseapp.com",projectId:"chat-app-18404",storageBucket:"chat-app-18404.appspot.com",messagingSenderId:"1020225808869",appId:"1:1020225808869:web:fc9b3c705cde795d54e70c",measurementId:"G-7EXTG0ETER"});g.a.auth(),g.a.firestore(),g.a.analytics();b.a.render(Object(A.jsx)(p.a.StrictMode,{children:Object(A.jsx)(z,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.8518ea4c.chunk.js.map